<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Data Extractor from PDF</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #1a2980, #26d0ce);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        h1 i {
            font-size: 2.8rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 30px;
            gap: 30px;
        }
        
        .upload-section {
            flex: 1;
            min-width: 300px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .results-section {
            flex: 2;
            min-width: 300px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #1a2980;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            font-size: 1.3rem;
        }
        
        .upload-area {
            border: 3px dashed #26d0ce;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: white;
            margin-bottom: 20px;
        }
        
        .upload-area:hover {
            background-color: #f0fdfd;
            border-color: #1a2980;
        }
        
        .upload-area i {
            font-size: 3rem;
            color: #26d0ce;
            margin-bottom: 15px;
        }
        
        .upload-area h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .upload-area p {
            color: #666;
            margin-bottom: 15px;
        }
        
        .file-input {
            display: none;
        }
        
        .upload-btn {
            background: linear-gradient(90deg, #1a2980, #26d0ce);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .upload-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(26, 41, 128, 0.2);
        }
        
        .selected-file {
            margin-top: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border-left: 4px solid #26d0ce;
            display: none;
        }
        
        .selected-file.active {
            display: block;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .file-info i {
            color: #1a2980;
            font-size: 1.5rem;
        }
        
        .extract-btn {
            background: linear-gradient(90deg, #11998e, #38ef7d);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            width: 100%;
            justify-content: center;
        }
        
        .extract-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(17, 153, 142, 0.3);
        }
        
        .extract-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #26d0ce;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .vehicle-table-container {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        th {
            background-color: #1a2980;
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tr:hover {
            background-color: #f5f9ff;
        }
        
        .no-data {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }
        
        .vehicle-count {
            background-color: #e8f5e9;
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: bold;
        }
        
        .vehicle-count span {
            color: #1a2980;
            font-size: 1.2rem;
        }
        
        .export-btn {
            background: linear-gradient(90deg, #FF512F, #DD2476);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(221, 36, 118, 0.3);
        }
        
        .instructions {
            background-color: #fff8e1;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid #ffb300;
        }
        
        .instructions h3 {
            color: #ff8f00;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
            color: #5d4037;
        }
        
        .instructions li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #e0e0e0;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-pdf"></i> Vehicle Data Extractor</h1>
            <p class="subtitle">Upload a PDF containing vehicle information and extract data vehicle-wise. The tool will parse the document and organize vehicle details in a structured table.</p>
        </header>
        
        <div class="main-content">
            <section class="upload-section">
                <h2 class="section-title"><i class="fas fa-upload"></i> Upload PDF</h2>
                
                <div class="upload-area" id="dropArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Drag & Drop Your PDF File</h3>
                    <p>or click to browse</p>
                    <p>Supported format: PDF (max 10MB)</p>
                    <input type="file" id="pdfInput" class="file-input" accept=".pdf">
                    <button class="upload-btn" id="browseBtn"><i class="fas fa-folder-open"></i> Browse Files</button>
                </div>
                
                <div class="selected-file" id="selectedFile">
                    <div class="file-info">
                        <i class="fas fa-file-pdf"></i>
                        <div>
                            <strong id="fileName">No file selected</strong>
                            <p id="fileSize">-</p>
                        </div>
                    </div>
                    <p id="fileStatus">Ready to extract data</p>
                </div>
                
                <button class="extract-btn" id="extractBtn" disabled>
                    <i class="fas fa-cogs"></i> Extract Vehicle Data
                </button>
                
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Extracting vehicle data from PDF... This may take a moment.</p>
                </div>
            </section>
            
            <section class="results-section">
                <h2 class="section-title"><i class="fas fa-table"></i> Extracted Vehicle Data</h2>
                
                <div class="vehicle-count" id="vehicleCount" style="display: none;">
                    <span>Vehicles Found: <span id="countValue">0</span></span>
                    <button class="export-btn" id="exportBtn"><i class="fas fa-download"></i> Export as CSV</button>
                </div>
                
                <div class="vehicle-table-container">
                    <div id="noDataMessage" class="no-data">
                        <i class="fas fa-info-circle" style="font-size: 3rem; margin-bottom: 15px; color: #ccc;"></i>
                        <p>Upload a PDF file and extract vehicle data to see results here.</p>
                    </div>
                    
                    <table id="vehicleTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>Vehicle ID</th>
                                <th>Type</th>
                                <th>Model</th>
                                <th>Year</th>
                                <th>Registration No.</th>
                                <th>Owner</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="vehicleTableBody">
                            <!-- Vehicle data will be inserted here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="instructions">
                    <h3><i class="fas fa-info-circle"></i> How to use this tool</h3>
                    <ul>
                        <li>Upload a PDF file containing vehicle information (like registration documents, fleet reports, etc.)</li>
                        <li>Click "Extract Vehicle Data" to parse the document</li>
                        <li>The extracted vehicle data will appear in the table above</li>
                        <li>Export the data as CSV for further analysis</li>
                        <li><strong>Note:</strong> This demo uses simulated data. In a real application, you would integrate with a PDF parsing library or backend service.</li>
                    </ul>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Vehicle Data Extractor Tool &copy; 2023 | For demonstration purposes only</p>
            <p>Note: Actual PDF parsing requires a backend service or specialized JavaScript library</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const pdfInput = document.getElementById('pdfInput');
        const browseBtn = document.getElementById('browseBtn');
        const dropArea = document.getElementById('dropArea');
        const selectedFile = document.getElementById('selectedFile');
        const fileName = document.getElementById('fileName');
        const fileSize = document.getElementById('fileSize');
        const fileStatus = document.getElementById('fileStatus');
        const extractBtn = document.getElementById('extractBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const vehicleCount = document.getElementById('vehicleCount');
        const countValue = document.getElementById('countValue');
        const noDataMessage = document.getElementById('noDataMessage');
        const vehicleTable = document.getElementById('vehicleTable');
        const vehicleTableBody = document.getElementById('vehicleTableBody');
        const exportBtn = document.getElementById('exportBtn');
        
        // Event Listeners
        browseBtn.addEventListener('click', () => pdfInput.click());
        
        pdfInput.addEventListener('change', handleFileSelect);
        
        extractBtn.addEventListener('click', extractVehicleData);
        
        exportBtn.addEventListener('click', exportToCSV);
        
        // Drag and drop functionality
        dropArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropArea.style.borderColor = '#1a2980';
            dropArea.style.backgroundColor = '#f0fdfd';
        });
        
        dropArea.addEventListener('dragleave', () => {
            dropArea.style.borderColor = '#26d0ce';
            dropArea.style.backgroundColor = 'white';
        });
        
        dropArea.addEventListener('drop', (e) => {
            e.preventDefault();
            dropArea.style.borderColor = '#26d0ce';
            dropArea.style.backgroundColor = 'white';
            
            if (e.dataTransfer.files.length) {
                pdfInput.files = e.dataTransfer.files;
                handleFileSelect();
            }
        });
        
        // Handle file selection
        function handleFileSelect() {
            if (pdfInput.files.length === 0) return;
            
            const file = pdfInput.files[0];
            
            // Validate file type
            if (file.type !== 'application/pdf') {
                alert('Please select a PDF file.');
                return;
            }
            
            // Validate file size (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size exceeds 10MB limit.');
                return;
            }
            
            // Update UI with file info
            fileName.textContent = file.name;
            fileSize.textContent = formatFileSize(file.size);
            fileStatus.textContent = 'Ready to extract data';
            selectedFile.classList.add('active');
            
            // Enable extract button
            extractBtn.disabled = false;
            
            // Reset results
            resetResults();
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' bytes';
            else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
            else return (bytes / 1048576).toFixed(1) + ' MB';
        }
        
        // Reset results display
        function resetResults() {
            vehicleCount.style.display = 'none';
            noDataMessage.style.display = 'block';
            vehicleTable.style.display = 'none';
            vehicleTableBody.innerHTML = '';
        }
        
        // Simulate extracting vehicle data from PDF
        function extractVehicleData() {
            // Show loading indicator
            loadingIndicator.classList.add('active');
            extractBtn.disabled = true;
            
            // Simulate processing delay
            setTimeout(() => {
                // Generate sample vehicle data (in a real app, this would come from PDF parsing)
                const vehicleData = generateSampleVehicleData();
                
                // Display the data
                displayVehicleData(vehicleData);
                
                // Hide loading indicator
                loadingIndicator.classList.remove('active');
                extractBtn.disabled = false;
            }, 1500);
        }
        
        // Generate sample vehicle data for demonstration
        function generateSampleVehicleData() {
            const vehicleTypes = ['Sedan', 'SUV', 'Truck', 'Van', 'Motorcycle', 'Bus', 'Pickup'];
            const vehicleModels = ['Toyota Camry', 'Honda Civic', 'Ford F-150', 'Chevrolet Silverado', 
                                  'BMW X5', 'Mercedes-Benz C-Class', 'Tesla Model 3', 'Hyundai Tucson',
                                  'Nissan Altima', 'Jeep Wrangler', 'Ram 1500', 'Subaru Outback'];
            const owners = ['John Smith', 'ABC Transport Inc.', 'Jane Doe', 'XYZ Logistics', 
                           'City Fleet Services', 'Robert Johnson', 'Global Delivery Co.', 'Mary Williams'];
            const statuses = ['Active', 'In Service', 'Under Maintenance', 'Retired', 'Pending Inspection'];
            
            const vehicleCount = Math.floor(Math.random() * 15) + 5; // Random number between 5 and 20
            const vehicles = [];
            
            for (let i = 1; i <= vehicleCount; i++) {
                const type = vehicleTypes[Math.floor(Math.random() * vehicleTypes.length)];
                const model = vehicleModels[Math.floor(Math.random() * vehicleModels.length)];
                const year = 2015 + Math.floor(Math.random() * 9); // 2015-2023
                const regNo = generateRegistrationNumber();
                const owner = owners[Math.floor(Math.random() * owners.length)];
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                
                vehicles.push({
                    id: `VH${String(i).padStart(3, '0')}`,
                    type: type,
                    model: model,
                    year: year,
                    registration: regNo,
                    owner: owner,
                    status: status
                });
            }
            
            return vehicles;
        }
        
        // Generate a random registration number
        function generateRegistrationNumber() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const numbers = '0123456789';
            
            let regNo = '';
            for (let i = 0; i < 3; i++) {
                regNo += letters.charAt(Math.floor(Math.random() * letters.length));
            }
            regNo += '-';
            for (let i = 0; i < 4; i++) {
                regNo += numbers.charAt(Math.floor(Math.random() * numbers.length));
            }
            
            return regNo;
        }
        
        // Display vehicle data in the table
        function displayVehicleData(vehicles) {
            // Update count
            countValue.textContent = vehicles.length;
            vehicleCount.style.display = 'flex';
            
            // Clear table
            vehicleTableBody.innerHTML = '';
            
            // Populate table
            vehicles.forEach(vehicle => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${vehicle.id}</td>
                    <td>${vehicle.type}</td>
                    <td>${vehicle.model}</td>
                    <td>${vehicle.year}</td>
                    <td>${vehicle.registration}</td>
                    <td>${vehicle.owner}</td>
                    <td><span class="status-badge" style="background-color: ${getStatusColor(vehicle.status)}; color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.85rem;">${vehicle.status}</span></td>
                `;
                
                vehicleTableBody.appendChild(row);
            });
            
            // Show table and hide no data message
            noDataMessage.style.display = 'none';
            vehicleTable.style.display = 'table';
        }
        
        // Get color based on status
        function getStatusColor(status) {
            switch(status) {
                case 'Active': return '#4caf50';
                case 'In Service': return '#2196f3';
                case 'Under Maintenance': return '#ff9800';
                case 'Pending Inspection': return '#9c27b0';
                case 'Retired': return '#f44336';
                default: return '#757575';
            }
        }
        
        // Export data as CSV
        function exportToCSV() {
            const rows = document.querySelectorAll('#vehicleTable tbody tr');
            if (rows.length === 0) {
                alert('No data to export.');
                return;
            }
            
            let csvContent = "data:text/csv;charset=utf-8,";
            
            // Add headers
            const headers = [];
            document.querySelectorAll('#vehicleTable thead th').forEach(header => {
                headers.push(header.textContent);
            });
            csvContent += headers.join(",") + "\n";
            
            // Add rows
            rows.forEach(row => {
                const rowData = [];
                row.querySelectorAll('td').forEach((cell, index) => {
                    // Remove HTML from status badge
                    if (index === 6) {
                        rowData.push(cell.textContent.trim());
                    } else {
                        rowData.push(cell.textContent);
                    }
                });
                csvContent += rowData.join(",") + "\n";
            });
            
            // Create download link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "vehicle_data.csv");
            document.body.appendChild(link);
            
            // Trigger download
            link.click();
            document.body.removeChild(link);
        }
        
        // Initialize with a sample message
        window.addEventListener('DOMContentLoaded', () => {
            fileStatus.textContent = 'No file selected yet';
        });
    </script>
</body>
</html>
