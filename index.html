<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Inter', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            padding: 20px;
            color: #1a1d2b;
            min-height: 100vh;
        }

        .dashboard-title {
            text-align: center;
            margin-bottom: 30px;
            color: #1a1d2b;
            font-size: 32px;
            font-weight: 700;
            padding-bottom: 15px;
            position: relative;
        }

        .dashboard-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 2px;
        }

        .dashboard-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 20px;
        }

        .row {
            display: grid;
            grid-gap: 25px;
            margin-bottom: 25px;
        }

        .section-box {
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            padding: 25px;
            border: 1px solid #e1e5eb;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .section-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #2c3e50;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .section-title-text:before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 20px;
            background: #3498db;
            margin-right: 12px;
            border-radius: 3px;
        }

        .details-btn {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            color: white;
            border: none;
            padding: 6px 15px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);
            margin-left: 10px;
        }

        .details-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.4);
        }

        .details-btn:active {
            transform: translateY(0);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        th {
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            font-weight: 700;
            text-align: left;
            padding: 12px 15px;
            border: 1px solid #dee2e6;
            color: #495057;
        }

        td {
            padding: 12px 15px;
            border: 1px solid #dee2e6;
        }

        tr:nth-child(even) {
            background-color: #fafbfd;
        }

        .total-row {
            background: linear-gradient(to right, #e8f4fd, #d4e9fa) !important;
            font-weight: 700;
        }

        .highlight-red {
            color: #e74c3c;
            font-weight: 700;
        }

        .highlight-green {
            color: #27ae60;
            font-weight: 700;
        }

        .subtitle {
            font-size: 17px;
            font-weight: 700;
            margin-top: 25px;
            margin-bottom: 12px;
            color: #3498db;
            padding-left: 8px;
            border-left: 4px solid #3498db;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: #6c757d;
            font-size: 14px;
            padding-top: 20px;
            border-top: 1px solid #e0e6ef;
            background: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 8px;
            max-width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        .metric-highlight {
            background-color: #f0f7ff;
            border-radius: 4px;
            padding: 2px 6px;
            font-weight: 600;
        }

        .status-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
        }

        .status-good {
            background-color: #d5f4e6;
            color: #27ae60;
        }

        .status-warning {
            background-color: #fef9e7;
            color: #f39c12;
        }

        .status-critical {
            background-color: #fdedec;
            color: #e74c3c;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 1100px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s;
            padding: 25px;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            color: #7f8c8d;
            cursor: pointer;
            line-height: 1;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #e74c3c;
        }

        .modal-subtitle {
            font-size: 18px;
            font-weight: 600;
            margin: 20px 0 15px;
            color: #3498db;
            padding-left: 8px;
            border-left: 4px solid #3498db;
        }

        /* Clickable row styles */
        .clickable-row {
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .clickable-row:hover {
            background-color: #e8f4fd !important;
        }

        .hour-header {
            cursor: pointer;
            color: #3498db;
            text-decoration: none;
            transition: color 0.2s;
        }

        .hour-header:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        @media (max-width: 1200px) {
            .row.row1 {
                grid-template-columns: 1fr;
            }
            .row.row2 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .dashboard-title {
                font-size: 26px;
            }

            .section-box {
                padding: 15px;
            }

            th, td {
                padding: 8px 10px;
            }

            .section-title {
                flex-direction: column;
                align-items: flex-start;
            }

            .details-btn {
                margin-top: 10px;
                align-self: flex-start;
                margin-left: 0;
            }
        }
        .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            color: white;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .floating-btn:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="row row1" style="grid-template-columns: 4.5fr 3fr 2.5fr;">
            <!-- Box 1: Plant Operation -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Plant Operation</div>
                    <button class="details-btn" id="plantOperationBtn">View Day Wise </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>FTD </th>
                            <th>MTD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Production</td>
                            <td>1865</td>
                            <td>31987</td>
                        </tr>
                        <tr>
                            <td>Running Hrs.</td>
                            <td>10.2 Hr</td>
                            <td>169.9 Hr</td>
                        </tr>
                        <tr>
                            <td>TPH</td>
                            <td>183</td>
                            <td>188</td>
                        </tr>
                        <tr>
                            <td>Maintenance Hrs</td>
                            <td>3.5</td>
                            <td>64</td>
                        </tr>
                        <tr>
                            <td>Breakdown Hrs.</td>
                            <td>0</td>
                            <td>6</td>
                        </tr>
                        <tr>
                            <td>Power Cut Hrs.</td>
                            <td>3.8</td>
                            <td>95.6</td>
                        </tr>
                        <tr>
                            <td>Boulder Jam Hrs.</td>
                            <td>0.5</td>
                            <td>20.9</td>
                        </tr>
                        <tr>
                            <td>No Feed Hrs.</td>
                            <td>2.5</td>
                            <td>34</td>
                        </tr>
                        <tr>
                            <td>Remark</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Box 2: Machinery Availability Details -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Machinery Availability Details</div>
                    <div>
                        <button class="details-btn" id="machineryBtn">View Day Wise </button>
                        <a href="https://bimal-bp.github.io/Tipper-avialable/" class="details-btn">Vehicle Avl</a>
                    </div>
                </div>
                <table style="margin-bottom: 15px;">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Tipper</th>
                            <th>Machine</th>
                            <th>Loader</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Day</td>
                            <td>9</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>10</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                    </tbody>
                </table>

                <div class="subtitle">Plant Performance</div>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>FTD</th>
                            <th>GAP</th>
                            <th>MTD</th>
                            <th>GAP</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Plant Performance</td>
                            <td>10.2 Hr</td>
                            <td class="highlight-red">7.8</td>
                            <td>169.9 Hr</td>
                            <td class="highlight-red">56.1</td>
                        </tr>
                        <tr>
                            <td>Plant TPH</td>
                            <td>183</td>
                            <td colspan="2" class="metric-highlight">188 (MTD Avg)</td>
                        </tr>
                    </tbody>
                </table>
                <table style="margin-bottom: 15px;">
                    <tbody>
                        <tr>
                            <td>Boulder feed to plant</td>
                            <td>74 Trips</td>
                            <td>3,242 Mt</td>
                        </tr>
                        <tr>
                            <td>Add to Stock</td>
                            <td>16 Trips</td>
                            <td>362 Mt</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- Box 3: Production Details -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Production Details</div>
                    <button class="details-btn" id="productionDetailsBtn">View Date-Wise Report</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>FTD</th>
                            <th>MTD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>10 MM</td>
                            <td>381.6</td>
                            <td>3722.4</td>
                        </tr>
                        <tr>
                            <td>20 MM</td>
                            <td>593.6</td>
                            <td>5790.4</td>
                        </tr>
                        <tr>
                            <td>V-Sand</td>
                            <td>296.8</td>
                            <td>2895.2</td>
                        </tr>
                        <tr>
                            <td>Railway Ballast</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>40 MM</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>Rivo Sand</td>
                            <td>763.2</td>
                            <td>7444.8</td>
                        </tr>
                        <tr>
                            <td>Slurry</td>
                            <td>84.8</td>
                            <td>827.2</td>
                        </tr>
                        <tr class="total-row">
                            <td>Total</td>
                            <td>2120</td>
                            <td>20680</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="row row2" style="grid-template-columns: 1fr;">
            <!-- Box 4: Dispatch Details - MOVED TO SECOND ROW -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Dispatch Details - Date: 27-01-2026</div>
                    <button class="details-btn" id="dispatchBtn">View Date-Wise Report</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Shift</th>
                            <th>10 MM</th>
                            <th>20 MM</th>
                            <th>V-Sand</th>
                            <th>P-Sand</th>
                            <th>Scalping</th>
                            <th>GSB / Wet Mix</th>
                            <th>40 MM</th>
                            <th>50 MM</th>
                            <th>R-Sand</th>
                            <th>Total (MT)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>A-Shift</td>
                            <td>25</td>
                            <td>65</td>
                            <td>25</td>
                            <td>25</td>
                            <td>65</td>
                            <td>69</td>
                            <td>80</td>
                            <td>85</td>
                            <td>55</td>
                            <td>494</td>
                        </tr>
                        <tr>
                            <td>B-Shift</td>
                            <td>250</td>
                            <td>545</td>
                            <td>58</td>
                            <td>51</td>
                            <td>51</td>
                            <td>2365</td>
                            <td>255</td>
                            <td>55</td>
                            <td>5</td>
                            <td>3635</td>
                        </tr>
                        <tr class="total-row">
                            <td>A + B Total</td>
                            <td>275</td>
                            <td>610</td>
                            <td>83</td>
                            <td>76</td>
                            <td>116</td>
                            <td>2434</td>
                            <td>335</td>
                            <td>140</td>
                            <td>60</td>
                            <td>4129</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="row row3" style="grid-template-columns: 3.75fr 3.75fr 2.5fr;">
            <!-- Box 5: Boulder Transportation -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">BOULDER TRANSPORTATION</div>
                    <button class="details-btn" id="boulderTransportBtn">View Detailed Report</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Day</th>
                            <th>Night</th>
                            <th>FTD Trips</th>
                            <th>MTD Trips</th>
                            <th>FTD Tonnage</th>
                            <th>MTD Tonnage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>AP39U00095</td>
                            <td>1</td>
                            <td>4</td>
                            <td>5</td>
                            <td>48</td>
                            <td>114.09</td>
                            <td>1097.36</td>
                        </tr>
                        <tr>
                            <td>AP39U00097</td>
                            <td>3</td>
                            <td>3</td>
                            <td>6</td>
                            <td>43</td>
                            <td>129.69</td>
                            <td>935.31</td>
                        </tr>
                        <tr>
                            <td>AP39UW9880</td>
                            <td>4</td>
                            <td>7</td>
                            <td>11</td>
                            <td>75</td>
                            <td>240.71</td>
                            <td>1668.66</td>
                        </tr>
                        <tr>
                            <td>AP39UW9881</td>
                            <td>4</td>
                            <td>6</td>
                            <td>10</td>
                            <td>73</td>
                            <td>223.22</td>
                            <td>1645.96</td>
                        </tr>
                        <tr>
                            <td>AP39UW4651</td>
                            <td>4</td>
                            <td>6</td>
                            <td>10</td>
                            <td>73</td>
                            <td>225.9</td>
                            <td>1644.33</td>
                        </tr>
                        <tr>
                            <td>AP39UW4652</td>
                            <td>3</td>
                            <td>7</td>
                            <td>10</td>
                            <td>76</td>
                            <td>221.45</td>
                            <td>1733.39</td>
                        </tr>
                        <tr>
                            <td>AP39WC0926</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>AP39WC0927</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>17</td>
                            <td>0</td>
                            <td>398.13</td>
                        </tr>
                        <tr>
                            <td>AP39WC0928</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>AP39WF2052</td>
                            <td>3</td>
                            <td>7</td>
                            <td>10</td>
                            <td>67</td>
                            <td>236.5</td>
                            <td>1610.03</td>
                        </tr>
                        <tr>
                            <td>AP39WF2057</td>
                            <td>3</td>
                            <td>7</td>
                            <td>10</td>
                            <td>64</td>
                            <td>234.66</td>
                            <td>1523.01</td>
                        </tr>
                        <tr>
                            <td>AP39WF2058</td>
                            <td>4</td>
                            <td>7</td>
                            <td>11</td>
                            <td>71</td>
                            <td>264.09</td>
                            <td>1691.78</td>
                        </tr>
                        <tr class="total-row">
                            <td>Total</td>
                            <td>29</td>
                            <td>54</td>
                            <td>83</td>
                            <td>607</td>
                            <td>1890.31</td>
                            <td>13947.96</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Box 6: Hourly Tipper Movement -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Hourly Tipper Movement</div>
                    <button class="details-btn" id="hourlyMovementBtn">View Detailed Report</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Trips</th>
                            <th>Late</th>
                            <th>Night</th>
                            <th>Trips</th>
                            <th>Late</th>
                        </tr>
                    </thead>
                    <tbody id="hourlyMovementTable">
                        <tr class="clickable-row" data-hour="08">
                            <td><span class="hour-header">08 am - 09 am</span></td>
                            <td>2</td>
                            <td class="highlight-red">1</td>
                            <td><span class="hour-header">08 pm - 09 pm</span></td>
                            <td>1</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="09">
                            <td><span class="hour-header">09 am - 10 am</span></td>
                            <td>2</td>
                            <td class="highlight-red">3</td>
                            <td><span class="hour-header">09 pm - 10 pm</span></td>
                            <td>4</td>
                            <td class="highlight-red">1</td>
                        </tr>
                        <tr class="clickable-row" data-hour="10">
                            <td><span class="hour-header">10 am - 11 am</span></td>
                            <td>0</td>
                            <td>0</td>
                            <td><span class="hour-header">10 pm - 11 pm</span></td>
                            <td>2</td>
                            <td class="highlight-red">1</td>
                        </tr>
                        <tr class="clickable-row" data-hour="11">
                            <td><span class="hour-header">11 am - 12 pm</span></td>
                            <td>4</td>
                            <td class="highlight-red">1</td>
                            <td><span class="hour-header">11 pm - 12 am</span></td>
                            <td>5</td>
                            <td class="highlight-red">2</td>
                        </tr>
                        <tr class="clickable-row" data-hour="12">
                            <td><span class="hour-header">12 pm - 01 pm</span></td>
                            <td>3</td>
                            <td>0</td>
                            <td><span class="hour-header">12 am - 01 am</span></td>
                            <td>1</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="13">
                            <td><span class="hour-header">01 pm - 02 pm</span></td>
                            <td>2</td>
                            <td>0</td>
                            <td><span class="hour-header">01 am - 02 am</span></td>
                            <td>2</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="14">
                            <td><span class="hour-header">02 pm - 03 pm</span></td>
                            <td>1</td>
                            <td>0</td>
                            <td><span class="hour-header">02 am - 03 am</span></td>
                            <td>1</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="15">
                            <td><span class="hour-header">03 pm - 04 pm</span></td>
                            <td>4</td>
                            <td class="highlight-red">1</td>
                            <td><span class="hour-header">03 am - 04 am</span></td>
                            <td>5</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="16">
                            <td><span class="hour-header">04 pm - 05 pm</span></td>
                            <td>3</td>
                            <td class="highlight-red">1</td>
                            <td><span class="hour-header">04 am - 05 am</span></td>
                            <td>1</td>
                            <td class="highlight-red">1</td>
                        </tr>
                        <tr class="clickable-row" data-hour="17">
                            <td><span class="hour-header">05 pm - 06 pm</span></td>
                            <td>3</td>
                            <td class="highlight-red">2</td>
                            <td><span class="hour-header">05 am - 06 am</span></td>
                            <td>2</td>
                            <td>0</td>
                        </tr>
                        <tr class="clickable-row" data-hour="18">
                            <td><span class="hour-header">06 pm - 07 pm</span></td>
                            <td>0</td>
                            <td>0</td>
                            <td><span class="hour-header">06 am - 07 am</span></td>
                            <td>3</td>
                            <td class="highlight-red">1</td>
                        </tr>
                        <tr class="clickable-row" data-hour="19">
                            <td><span class="hour-header">07 pm - 08 pm</span></td>
                            <td>2</td>
                            <td>0</td>
                            <td><span class="hour-header">07 am - 08 am</span></td>
                            <td>4</td>
                            <td class="highlight-red">2</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- Box 7: Godown Stock -->
            <div class="section-box">
                <div class="section-title">
                    <div class="section-title-text">Godown Stock</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Stock</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>10 MM</td>
                            <td>80</td>
                        </tr>
                        <tr>
                            <td>20 MM</td>
                            <td>4100</td>
                        </tr>
                        <tr>
                            <td>Rivo Sand</td>
                            <td>20990</td>
                        </tr>
                        <tr>
                            <td>Railway Ballast</td>
                            <td>795</td>
                        </tr>
                        <tr>
                            <td>40 MM</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>VSI</td>
                            <td>18816</td>
                        </tr>
                        <tr>
                            <td>GSB</td>
                            <td>-</td>
                        </tr>
                        <tr class="total-row">
                            <td>Total</td>
                            <td>44781</td>
                        </tr>
                    </tbody>
                </table>
                <div class="subtitle">TRANSPORTATION</div>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>FTD</th>
                            <th>GAP</th>
                            <th>MTD</th>
                            <th>GAP</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Trips</td>
                            <td>83</td>
                            <td class="highlight-red">36</td>
                            <td>607</td>
                            <td class="highlight-red">254</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="footer">
        ðŸ“Š Plant Operations Report | Generated on: 27-01-2026 | Data as per daily log
    </div>
    <a href="https://bimal-bp.github.io/Mapping-part-/" class="floating-btn">Mission -</a>
    
    <!-- Plant Operation 7-Day Report Modal -->
    <div class="modal-overlay" id="plantOperationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Plant Operations â€“ Date-wise MIS (7 Days with Column-wise Totals)</h2>
                <button class="close-btn" id="closePlantOperation">&times;</button>
            </div>

            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Production (MT)</th>
                            <th>Running Hrs</th>
                            <th>TPH (Avg)</th>
                            <th>Maintenance Hrs</th>
                            <th>Breakdown Hrs</th>
                            <th>Power Cut Hrs</th>
                            <th>Boulder Jam Hrs</th>
                            <th>No Feed Hrs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>01-01-2026</td>
                            <td>1,865</td>
                            <td>10.2</td>
                            <td>183</td>
                            <td>3.5</td>
                            <td>0.0</td>
                            <td>3.8</td>
                            <td>0.5</td>
                            <td>2.5</td>
                        </tr>
                        <tr>
                            <td>02-01-2026</td>
                            <td>1,720</td>
                            <td>9.6</td>
                            <td>179</td>
                            <td>4.0</td>
                            <td>0.5</td>
                            <td>4.2</td>
                            <td>0.8</td>
                            <td>3.0</td>
                        </tr>
                        <tr>
                            <td>03-01-2026</td>
                            <td>1,950</td>
                            <td>10.8</td>
                            <td>181</td>
                            <td>2.5</td>
                            <td>0.0</td>
                            <td>2.9</td>
                            <td>0.4</td>
                            <td>1.9</td>
                        </tr>
                        <tr>
                            <td>04-01-2026</td>
                            <td>1,605</td>
                            <td>8.9</td>
                            <td>180</td>
                            <td>5.2</td>
                            <td>1.0</td>
                            <td>4.8</td>
                            <td>1.2</td>
                            <td>3.5</td>
                        </tr>
                        <tr>
                            <td>05-01-2026</td>
                            <td>2,100</td>
                            <td>11.3</td>
                            <td>186</td>
                            <td>2.0</td>
                            <td>0.0</td>
                            <td>1.9</td>
                            <td>0.3</td>
                            <td>1.5</td>
                        </tr>
                        <tr>
                            <td>06-01-2026</td>
                            <td>1,785</td>
                            <td>9.8</td>
                            <td>182</td>
                            <td>3.8</td>
                            <td>0.7</td>
                            <td>3.6</td>
                            <td>0.9</td>
                            <td>2.7</td>
                        </tr>
                        <tr>
                            <td>07-01-2026</td>
                            <td>1,905</td>
                            <td>10.4</td>
                            <td>183</td>
                            <td>3.0</td>
                            <td>0.3</td>
                            <td>3.1</td>
                            <td>0.6</td>
                            <td>2.1</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL (7 Days)</strong></td>
                            <td><strong>12,930</strong></td>
                            <td><strong>71.0</strong></td>
                            <td><strong>182 (Avg)</strong></td>
                            <td><strong>24.0</strong></td>
                            <td><strong>2.5</strong></td>
                            <td><strong>24.3</strong></td>
                            <td><strong>4.7</strong></td>
                            <td><strong>17.2</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin-top: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <p style="margin-bottom: 10px;"><strong>Summary Analysis:</strong></p>
                <ul style="padding-left: 20px;">
                    <li>Total production over 7 days: <strong>12,930 MT</strong></li>
                    <li>Average TPH: <strong>182</strong> (consistent performance)</li>
                    <li>Plant availability: <strong>71.0 hours</strong> out of possible 168 hours</li>
                    <li>Major downtime causes: Power Cuts (24.3 hrs) and No Feed (17.2 hrs)</li>
                    <li>Lowest production day: 04-01-2026 (1,605 MT) due to higher maintenance hours</li>
                    <li>Highest production day: 05-01-2026 (2,100 MT) with minimal downtime</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Machinery Availability 7-Day Report Modal -->
    <div class="modal-overlay" id="machineryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Machinery Availability â€“ Date-wise Report (7 Days)</h2>
                <button class="close-btn" id="closeMachinery">&times;</button>
            </div>

            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Shift</th>
                            <th>Tipper</th>
                            <th>Machine</th>
                            <th>Loader</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="2">01-01-2026</td>
                            <td>Day</td>
                            <td>9</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>10</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">02-01-2026</td>
                            <td>Day</td>
                            <td>8</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>9</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">03-01-2026</td>
                            <td>Day</td>
                            <td>9</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>10</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">04-01-2026</td>
                            <td>Day</td>
                            <td>7</td>
                            <td>3</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>8</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">05-01-2026</td>
                            <td>Day</td>
                            <td>9</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>10</td>
                            <td>4</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">06-01-2026</td>
                            <td>Day</td>
                            <td>8</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>9</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td rowspan="2">07-01-2026</td>
                            <td>Day</td>
                            <td>9</td>
                            <td>4</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Night</td>
                            <td>10</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr class="total-row">
                            <td colspan="2"><strong>AVERAGE (7 Days)</strong></td>
                            <td><strong>8.9</strong></td>
                            <td><strong>3.5</strong></td>
                            <td><strong>1.6</strong></td>
                        </tr>
                        <tr class="total-row">
                            <td colspan="2"><strong>TOTAL (Day Shift)</strong></td>
                            <td><strong>59</strong></td>
                            <td><strong>27</strong></td>
                            <td><strong>14</strong></td>
                        </tr>
                        <tr class="total-row">
                            <td colspan="2"><strong>TOTAL (Night Shift)</strong></td>
                            <td><strong>66</strong></td>
                            <td><strong>22</strong></td>
                            <td><strong>7</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin-top: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <p style="margin-bottom: 10px;"><strong>Machinery Availability Analysis:</strong></p>
                <ul style="padding-left: 20px;">
                    <li><strong>Tippers:</strong> Average 8.9 units available (Day: 8.4, Night: 9.4)</li>
                    <li><strong>Machines:</strong> Average 3.5 units available (Day: 3.9, Night: 3.1)</li>
                    <li><strong>Loaders:</strong> Average 1.6 units available (Day: 2.0, Night: 1.0)</li>
                    <li>Lowest availability day: 04-01-2026 (7 tippers day shift, 3 machines)</li>
                    <li>Highest availability day: 05-01-2026 (10 tippers night shift, 4 machines)</li>
                    <li>Consistent loader availability during day shifts (2 units daily)</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Hourly Tipper Movement Detailed Report Modal -->
    <div class="modal-overlay" id="hourlyMovementModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="hourlyModalTitle">Hourly Tipper Movement Detailed Report</h2>
                <button class="close-btn" id="closeHourlyMovement">&times;</button>
            </div>

            <div id="hourlyReportContent">
                <!-- Content will be loaded dynamically based on the hour clicked -->
                <div style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>Vehicle No</th>
                                <th>In Time</th>
                                <th>Out Time</th>
                                <th>Time Difference (min)</th>
                                <th>Tonnage (T)</th>
                                <th>Remarks</th>
                            </tr>
                        </thead>
                        <tbody id="detailedReportTable">
                            <!-- Data will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div id="hourlySummary" style="margin-top: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                    <p style="margin-bottom: 10px;"><strong>Hourly Summary:</strong></p>
                    <ul style="padding-left: 20px;" id="summaryList">
                        <!-- Summary will be inserted here by JavaScript -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Production Details Date-Wise Report Modal -->
    <div class="modal-overlay" id="productionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Date-Wise Production Report (Product â€“ Column Wise)</h2>
                <button class="close-btn" id="closeProduction">&times;</button>
            </div>

            <div style="overflow-x: auto;">
                <p>FTD Production (01â€“06 Jan 2026)</p>
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>10 MM</th>
                            <th>20 MM</th>
                            <th>V-Sand</th>
                            <th>Railway Ballast</th>
                            <th>40 MM</th>
                            <th>Rivo Sand</th>
                            <th>Slurry</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>01-01-2026</td>
                            <td>420.0</td>
                            <td>650.0</td>
                            <td>320.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>820.0</td>
                            <td>90.0</td>
                            <td>2300.0</td>
                        </tr>
                        <tr>
                            <td>02-01-2026</td>
                            <td>410.0</td>
                            <td>640.0</td>
                            <td>315.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>810.0</td>
                            <td>88.0</td>
                            <td>2263.0</td>
                        </tr>
                        <tr>
                            <td>03-01-2026</td>
                            <td>395.0</td>
                            <td>620.0</td>
                            <td>305.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>790.0</td>
                            <td>86.0</td>
                            <td>2196.0</td>
                        </tr>
                        <tr>
                            <td>04-01-2026</td>
                            <td>405.0</td>
                            <td>630.0</td>
                            <td>310.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>800.0</td>
                            <td>87.0</td>
                            <td>2232.0</td>
                        </tr>
                        <tr>
                            <td>05-01-2026</td>
                            <td>390.0</td>
                            <td>610.0</td>
                            <td>300.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>780.0</td>
                            <td>85.0</td>
                            <td>2165.0</td>
                        </tr>
                        <tr>
                            <td>06-01-2026</td>
                            <td>395.4</td>
                            <td>618.0</td>
                            <td>297.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>741.6</td>
                            <td>83.0</td>
                            <td>2135.0</td>
                        </tr>
                        <tr class="total-row">
                            <td>Total (01â€“06)</td>
                            <td>2415.4</td>
                            <td>3768.0</td>
                            <td>1847.0</td>
                            <td>â€“</td>
                            <td>â€“</td>
                            <td>4741.6</td>
                            <td>519.0</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-subtitle">A + B SHIFT COMBINED TOTAL (FTD)</div>
            <p>Total: 4129 MT</p>
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Shift</th>
                            <th>10 MM</th>
                            <th>20 MM</th>
                            <th>V-SAND</th>
                            <th>P-SAND</th>
                            <th>Scalping</th>
                            <th>GSB / Wet Mix</th>
                            <th>40 MM</th>
                            <th>50 MM</th>
                            <th>R Sand</th>
                            <th>TOTAL</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>A-Shift</td>
                            <td>25</td>
                            <td>65</td>
                            <td>25</td>
                            <td>25</td>
                            <td>65</td>
                            <td>69</td>
                            <td>80</td>
                            <td>85</td>
                            <td>55</td>
                            <td>494</td>
                        </tr>
                        <tr>
                            <td>B-Shift</td>
                            <td>250</td>
                            <td>545</td>
                            <td>58</td>
                            <td>51</td>
                            <td>51</td>
                            <td>2365</td>
                            <td>255</td>
                            <td>55</td>
                            <td>5</td>
                            <td>3635</td>
                        </tr>
                        <tr class="total-row">
                            <td>A + B Total</td>
                            <td>275</td>
                            <td>610</td>
                            <td>83</td>
                            <td>76</td>
                            <td>116</td>
                            <td>2434</td>
                            <td>335</td>
                            <td>140</td>
                            <td>60</td>
                            <td>4129</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Dispatch Date-Wise Report Modal -->
    <div class="modal-overlay" id="dispatchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Date-wise Dispatch (MT)</h2>
                <button class="close-btn" id="closeDispatch">&times;</button>
            </div>

            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>10 MM</th>
                            <th>20 MM</th>
                            <th>V-Sand</th>
                            <th>P-Sand</th>
                            <th>Scalping</th>
                            <th>GSB / Wet Mix</th>
                            <th>40 MM</th>
                            <th>50 MM</th>
                            <th>R-Sand</th>
                            <th>Total (MT)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>01-01-2026</td>
                            <td>260</td>
                            <td>585</td>
                            <td>78</td>
                            <td>72</td>
                            <td>110</td>
                            <td>2350</td>
                            <td>320</td>
                            <td>135</td>
                            <td>55</td>
                            <td>3965</td>
                        </tr>
                        <tr>
                            <td>02-01-2026</td>
                            <td>275</td>
                            <td>610</td>
                            <td>83</td>
                            <td>76</td>
                            <td>116</td>
                            <td>2434</td>
                            <td>335</td>
                            <td>140</td>
                            <td>60</td>
                            <td>4129</td>
                        </tr>
                        <tr>
                            <td>03-01-2026</td>
                            <td>240</td>
                            <td>560</td>
                            <td>75</td>
                            <td>70</td>
                            <td>105</td>
                            <td>2200</td>
                            <td>300</td>
                            <td>120</td>
                            <td>50</td>
                            <td>3720</td>
                        </tr>
                        <tr>
                            <td>04-01-2026</td>
                            <td>290</td>
                            <td>640</td>
                            <td>90</td>
                            <td>80</td>
                            <td>125</td>
                            <td>2550</td>
                            <td>360</td>
                            <td>150</td>
                            <td>65</td>
                            <td>4350</td>
                        </tr>
                        <tr>
                            <td>05-01-2026</td>
                            <td>255</td>
                            <td>595</td>
                            <td>80</td>
                            <td>74</td>
                            <td>112</td>
                            <td>2300</td>
                            <td>325</td>
                            <td>130</td>
                            <td>58</td>
                            <td>3929</td>
                        </tr>
                        <tr>
                            <td>06-01-2026</td>
                            <td>270</td>
                            <td>620</td>
                            <td>85</td>
                            <td>78</td>
                            <td>118</td>
                            <td>2450</td>
                            <td>340</td>
                            <td>145</td>
                            <td>62</td>
                            <td>4168</td>
                        </tr>
                        <tr class="total-row">
                            <td>Total (1â€“6)</td>
                            <td>1590</td>
                            <td>3610</td>
                            <td>491</td>
                            <td>450</td>
                            <td>686</td>
                            <td>14284</td>
                            <td>1980</td>
                            <td>820</td>
                            <td>350</td>
                            <td>24261</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Boulder Transportation Detailed Report Modal -->
    <div class="modal-overlay" id="boulderTransportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Boulder Transportation Detailed Report</h2>
                <button class="close-btn" id="closeBoulderTransport">&times;</button>
            </div>
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Vehicle Number</th>
                            <th>FTD Trips</th>
                            <th>MTD Trips</th>
                            <th>FTD Diesel Issued (Ltrs)</th>
                            <th>MTD Diesel Issued (Ltrs)</th>
                            <th>FTD Breakdown Days</th>
                            <th>Breakdown Hours (FTD)</th>
                            <th>MTD Breakdown Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>AP39U00095</td>
                            <td>5</td>
                            <td>48</td>
                            <td>85</td>
                            <td>820</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>6.5</td>
                        </tr>
                        <tr>
                            <td>AP39U00097</td>
                            <td>6</td>
                            <td>43</td>
                            <td>102</td>
                            <td>740</td>
                            <td>1</td>
                            <td>2.5</td>
                            <td>8.0</td>
                        </tr>
                        <tr>
                            <td>AP39UW9880</td>
                            <td>11</td>
                            <td>75</td>
                            <td>185</td>
                            <td>1320</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>5.0</td>
                        </tr>
                        <tr>
                            <td>AP39UW9881</td>
                            <td>10</td>
                            <td>73</td>
                            <td>170</td>
                            <td>1285</td>
                            <td>1</td>
                            <td>3.0</td>
                            <td>9.5</td>
                        </tr>
                        <tr>
                            <td>AP39UW4651</td>
                            <td>10</td>
                            <td>73</td>
                            <td>168</td>
                            <td>1270</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>6.0</td>
                        </tr>
                        <tr>
                            <td>AP39UW4652</td>
                            <td>10</td>
                            <td>76</td>
                            <td>172</td>
                            <td>1340</td>
                            <td>1</td>
                            <td>2.0</td>
                            <td>10.0</td>
                        </tr>
                        <tr>
                            <td>AP39WC0926</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>0.0</td>
                        </tr>
                        <tr>
                            <td>AP39WC0927</td>
                            <td>0</td>
                            <td>17</td>
                            <td>0</td>
                            <td>300</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>4.0</td>
                        </tr>
                        <tr>
                            <td>AP39WC0928</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>0.0</td>
                        </tr>
                        <tr>
                            <td>AP39WF2052</td>
                            <td>10</td>
                            <td>67</td>
                            <td>176</td>
                            <td>1195</td>
                            <td>1</td>
                            <td>2.5</td>
                            <td>8.0</td>
                        </tr>
                        <tr>
                            <td>AP39WF2057</td>
                            <td>10</td>
                            <td>64</td>
                            <td>174</td>
                            <td>1140</td>
                            <td>0</td>
                            <td>0.0</td>
                            <td>6.5</td>
                        </tr>
                        <tr>
                            <td>AP39WF2058</td>
                            <td>11</td>
                            <td>71</td>
                            <td>190</td>
                            <td>1265</td>
                            <td>1</td>
                            <td>3.0</td>
                            <td>9.0</td>
                        </tr>
                        <tr class="total-row">
                            <td>TOTAL</td>
                            <td>83</td>
                            <td>607</td>
                            <td>1,592</td>
                            <td>11,675</td>
                            <td>5</td>
                            <td>15.0</td>
                            <td>82.5</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Hourly tipper movement data
        const hourlyData = {
            "08": [
                {vehicleNo: "AP39U00095", inTime: "08:00", outTime: "08:07", timeDiff: 7, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39UW9881", inTime: "08:05", outTime: "08:12", timeDiff: 7, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39WF2057", inTime: "08:10", outTime: "08:18", timeDiff: 8, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39U00097", inTime: "08:15", outTime: "08:26", timeDiff: 11, tonnage: 27, remarks: "Late"},
                {vehicleNo: "AP39UW4652", inTime: "08:20", outTime: "08:28", timeDiff: 8, tonnage: 19, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "08:25", outTime: "08:33", timeDiff: 8, tonnage: 20, remarks: ""}
            ],
            "09": [
                {vehicleNo: "AP39UW4651", inTime: "08:30", outTime: "08:37", timeDiff: 7, tonnage: 18, remarks: ""},
                {vehicleNo: "AP39WC0927", inTime: "08:35", outTime: "08:43", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WF2052", inTime: "08:40", outTime: "08:49", timeDiff: 9, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39U00095", inTime: "08:45", outTime: "08:55", timeDiff: 10, tonnage: 28, remarks: "Late"},
                {vehicleNo: "AP39UW9880", inTime: "08:50", outTime: "08:57", timeDiff: 7, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39WC0926", inTime: "08:55", outTime: "09:03", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39U00097", inTime: "09:00", outTime: "09:08", timeDiff: 8, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39UW9881", inTime: "09:05", outTime: "09:15", timeDiff: 10, tonnage: 29, remarks: "Late"}
            ],
            "10": [
                {vehicleNo: "AP39WF2057", inTime: "09:10", outTime: "09:18", timeDiff: 8, tonnage: 18, remarks: ""},
                {vehicleNo: "AP39UW4652", inTime: "09:15", outTime: "09:22", timeDiff: 7, tonnage: 19, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "09:20", outTime: "09:31", timeDiff: 11, tonnage: 28, remarks: "Late"},
                {vehicleNo: "AP39UW4651", inTime: "09:25", outTime: "09:32", timeDiff: 7, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39WC0927", inTime: "09:30", outTime: "09:38", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WF2052", inTime: "09:35", outTime: "09:43", timeDiff: 8, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39U00095", inTime: "09:40", outTime: "09:48", timeDiff: 8, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39UW9880", inTime: "09:45", outTime: "09:52", timeDiff: 7, tonnage: 21, remarks: ""}
            ],
            "11": [
                {vehicleNo: "AP39WC0926", inTime: "09:50", outTime: "09:58", timeDiff: 8, tonnage: 19, remarks: ""},
                {vehicleNo: "AP39U00097", inTime: "09:55", outTime: "10:06", timeDiff: 11, tonnage: 26, remarks: "Late"},
                {vehicleNo: "AP39UW9881", inTime: "10:00", outTime: "10:08", timeDiff: 8, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39WF2057", inTime: "10:05", outTime: "10:14", timeDiff: 9, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39UW4652", inTime: "10:10", outTime: "10:17", timeDiff: 7, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "10:15", outTime: "10:27", timeDiff: 12, tonnage: 27, remarks: "Late"},
                {vehicleNo: "AP39UW4651", inTime: "10:20", outTime: "10:27", timeDiff: 7, tonnage: 21, remarks: ""}
            ],
            "12": [
                {vehicleNo: "AP39U00095", inTime: "12:00", outTime: "12:08", timeDiff: 8, tonnage: 24, remarks: ""},
                {vehicleNo: "AP39UW9881", inTime: "12:05", outTime: "12:13", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WF2057", inTime: "12:10", outTime: "12:19", timeDiff: 9, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39U00097", inTime: "12:15", outTime: "12:24", timeDiff: 9, tonnage: 25, remarks: ""}
            ],
            "13": [
                {vehicleNo: "AP39UW4652", inTime: "13:00", outTime: "13:08", timeDiff: 8, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "13:05", outTime: "13:14", timeDiff: 9, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39UW4651", inTime: "13:10", outTime: "13:17", timeDiff: 7, tonnage: 19, remarks: ""}
            ],
            "14": [
                {vehicleNo: "AP39WC0927", inTime: "14:00", outTime: "14:08", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WF2052", inTime: "14:05", outTime: "14:14", timeDiff: 9, tonnage: 24, remarks: ""}
            ],
            "15": [
                {vehicleNo: "AP39U00095", inTime: "15:00", outTime: "15:08", timeDiff: 8, tonnage: 25, remarks: ""},
                {vehicleNo: "AP39UW9880", inTime: "15:05", outTime: "15:12", timeDiff: 7, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39WC0926", inTime: "15:10", outTime: "15:18", timeDiff: 8, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39U00097", inTime: "15:15", outTime: "15:24", timeDiff: 9, tonnage: 26, remarks: ""},
                {vehicleNo: "AP39UW9881", inTime: "15:20", outTime: "15:28", timeDiff: 8, tonnage: 23, remarks: ""}
            ],
            "16": [
                {vehicleNo: "AP39WF2057", inTime: "16:00", outTime: "16:08", timeDiff: 8, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39UW4652", inTime: "16:05", outTime: "16:12", timeDiff: 7, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "16:10", outTime: "16:18", timeDiff: 8, tonnage: 24, remarks: ""},
                {vehicleNo: "AP39UW4651", inTime: "16:15", outTime: "16:22", timeDiff: 7, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39WC0927", inTime: "16:20", outTime: "16:28", timeDiff: 8, tonnage: 23, remarks: ""}
            ],
            "17": [
                {vehicleNo: "AP39WF2052", inTime: "17:00", outTime: "17:09", timeDiff: 9, tonnage: 25, remarks: ""},
                {vehicleNo: "AP39U00095", inTime: "17:05", outTime: "17:14", timeDiff: 9, tonnage: 26, remarks: ""},
                {vehicleNo: "AP39UW9880", inTime: "17:10", outTime: "17:17", timeDiff: 7, tonnage: 22, remarks: ""},
                {vehicleNo: "AP39WC0926", inTime: "17:15", outTime: "17:23", timeDiff: 8, tonnage: 21, remarks: ""}
            ],
            "18": [
                {vehicleNo: "AP39U00097", inTime: "18:00", outTime: "18:09", timeDiff: 9, tonnage: 24, remarks: ""},
                {vehicleNo: "AP39UW9881", inTime: "18:05", outTime: "18:13", timeDiff: 8, tonnage: 23, remarks: ""},
                {vehicleNo: "AP39WF2057", inTime: "18:10", outTime: "18:19", timeDiff: 9, tonnage: 22, remarks: ""}
            ],
            "19": [
                {vehicleNo: "AP39UW4652", inTime: "19:00", outTime: "19:08", timeDiff: 8, tonnage: 21, remarks: ""},
                {vehicleNo: "AP39WF2058", inTime: "19:05", outTime: "19:13", timeDiff: 8, tonnage: 24, remarks: ""},
                {vehicleNo: "AP39UW4651", inTime: "19:10", outTime: "19:17", timeDiff: 7, tonnage: 20, remarks: ""},
                {vehicleNo: "AP39WC0927", inTime: "19:15", outTime: "19:23", timeDiff: 8, tonnage: 22, remarks: ""}
            ]
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            // Highlight total rows
            const totalRows = document.querySelectorAll('.total-row');
            totalRows.forEach(row => {
                row.style.background = 'linear-gradient(to right, #e8f4fd, #d4e9fa)';
                row.style.fontWeight = '700';
            });

            // Add alternating row colors for readability
            const tables = document.querySelectorAll('table');
            tables.forEach(table => {
                const rows = table.querySelectorAll('tbody tr');
                rows.forEach((row, index) => {
                    if (index % 2 === 1 && !row.classList.contains('total-row')) {
                        row.style.backgroundColor = '#fafbfd';
                    }
                });
            });

            // Add status badges for low/high values in Late column
            const lateCells = document.querySelectorAll('td.highlight-red');
            lateCells.forEach(cell => {
                const lateValue = parseInt(cell.textContent);
                if (lateValue >= 2) {
                    cell.innerHTML = `<span class="status-critical status-badge">${lateValue}</span>`;
                } else if (lateValue === 1) {
                    cell.innerHTML = `<span class="status-warning status-badge">${lateValue}</span>`;
                }
            });

            // Add hover effect to table rows
            const tableRows = document.querySelectorAll('tbody tr');
            tableRows.forEach(row => {
                row.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#f0f7ff';
                });

                row.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('total-row') && Array.from(this.parentNode.children).indexOf(this) % 2 === 1) {
                        this.style.backgroundColor = '#fafbfd';
                    } else if (!this.classList.contains('total-row')) {
                        this.style.backgroundColor = '';
                    }
                });
            });

            // Modal functionality
            const plantOperationBtn = document.getElementById('plantOperationBtn');
            const machineryBtn = document.getElementById('machineryBtn');
            const hourlyMovementBtn = document.getElementById('hourlyMovementBtn');
            const productionDetailsBtn = document.getElementById('productionDetailsBtn');
            const boulderTransportBtn = document.getElementById('boulderTransportBtn');
            const dispatchBtn = document.getElementById('dispatchBtn');
            const plantOperationModal = document.getElementById('plantOperationModal');
            const machineryModal = document.getElementById('machineryModal');
            const hourlyMovementModal = document.getElementById('hourlyMovementModal');
            const productionModal = document.getElementById('productionModal');
            const boulderTransportModal = document.getElementById('boulderTransportModal');
            const dispatchModal = document.getElementById('dispatchModal');
            const closePlantOperation = document.getElementById('closePlantOperation');
            const closeMachinery = document.getElementById('closeMachinery');
            const closeHourlyMovement = document.getElementById('closeHourlyMovement');
            const closeProduction = document.getElementById('closeProduction');
            const closeBoulderTransport = document.getElementById('closeBoulderTransport');
            const closeDispatch = document.getElementById('closeDispatch');

            // Open Plant Operation modal
            plantOperationBtn.addEventListener('click', function() {
                plantOperationModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Open Machinery modal
            machineryBtn.addEventListener('click', function() {
                machineryModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Open Hourly Movement modal from button
            hourlyMovementBtn.addEventListener('click', function() {
                // Default to 08:00 hour
                loadHourlyData("08", "08 am - 09 am");
                hourlyMovementModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Open Production modal
            productionDetailsBtn.addEventListener('click', function() {
                productionModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Open Boulder Transportation modal
            boulderTransportBtn.addEventListener('click', function() {
                boulderTransportModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Open Dispatch modal
            dispatchBtn.addEventListener('click', function() {
                dispatchModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Close Plant Operation modal
            closePlantOperation.addEventListener('click', function() {
                plantOperationModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close Machinery modal
            closeMachinery.addEventListener('click', function() {
                machineryModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close Hourly Movement modal
            closeHourlyMovement.addEventListener('click', function() {
                hourlyMovementModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close Production modal
            closeProduction.addEventListener('click', function() {
                productionModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close Boulder Transportation modal
            closeBoulderTransport.addEventListener('click', function() {
                boulderTransportModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close Dispatch modal
            closeDispatch.addEventListener('click', function() {
                dispatchModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Close modals when clicking outside content
            window.addEventListener('click', function(event) {
                if (event.target === plantOperationModal) {
                    plantOperationModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
                if (event.target === machineryModal) {
                    machineryModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
                if (event.target === hourlyMovementModal) {
                    hourlyMovementModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
                if (event.target === productionModal) {
                    productionModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
                if (event.target === boulderTransportModal) {
                    boulderTransportModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
                if (event.target === dispatchModal) {
                    dispatchModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // Close modals with Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    plantOperationModal.classList.remove('active');
                    machineryModal.classList.remove('active');
                    hourlyMovementModal.classList.remove('active');
                    productionModal.classList.remove('active');
                    boulderTransportModal.classList.remove('active');
                    dispatchModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // Make hourly movement rows clickable
            const clickableRows = document.querySelectorAll('.clickable-row');
            clickableRows.forEach(row => {
                row.addEventListener('click', function() {
                    const hour = this.getAttribute('data-hour');
                    const hourText = this.querySelector('.hour-header').textContent;
                    loadHourlyData(hour, hourText);
                    hourlyMovementModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            });

            // Function to load hourly data into modal
            function loadHourlyData(hour, hourText) {
                const data = hourlyData[hour] || [];
                const tableBody = document.getElementById('detailedReportTable');
                const modalTitle = document.getElementById('hourlyModalTitle');
                const summaryList = document.getElementById('summaryList');

                // Update modal title
                modalTitle.textContent = `Hourly Tipper Movement - ${hourText}`;

                // Clear existing rows
                tableBody.innerHTML = '';

                let totalTonnage = 0;
                let totalTime = 0;
                let lateCount = 0;

                // Add data rows
                data.forEach(item => {
                    const row = document.createElement('tr');

                    // Add remark class for late entries
                    const remarkClass = item.remarks === "Late" ? "status-critical status-badge" : "";
                    const remarkDisplay = item.remarks ? `<span class="${remarkClass}">${item.remarks}</span>` : "";

                    if (item.remarks === "Late") lateCount++;

                    row.innerHTML = `
                        <td>${item.vehicleNo}</td>
                        <td>${item.inTime}</td>
                        <td>${item.outTime}</td>
                        <td>${item.timeDiff}</td>
                        <td>${item.tonnage}</td>
                        <td>${remarkDisplay}</td>
                    `;

                    tableBody.appendChild(row);

                    totalTonnage += item.tonnage;
                    totalTime += item.timeDiff;
                });

                // Calculate averages
                const avgTime = data.length > 0 ? (totalTime / data.length).toFixed(1) : 0;
                const avgTonnage = data.length > 0 ? (totalTonnage / data.length).toFixed(1) : 0;

                // Update summary
                summaryList.innerHTML = `
                    <li>Total Trips: <strong>${data.length}</strong></li>
                    <li>Total Tonnage: <strong>${totalTonnage} T</strong></li>
                    <li>Average Time per Trip: <strong>${avgTime} minutes</strong></li>
                    <li>Average Tonnage per Trip: <strong>${avgTonnage} T</strong></li>
                    <li>Late Trips: <strong>${lateCount}</strong></li>
                    ${data.length > 0 ? `<li>Efficiency: <strong>${((data.length * avgTonnage) / (data.length * 30) * 100).toFixed(1)}%</strong> (based on 30T capacity)</li>` : ''}
                `;

                // Add total row if there's data
                if (data.length > 0) {
                    const totalRow = document.createElement('tr');
                    totalRow.className = 'total-row';
                    totalRow.innerHTML = `
                        <td colspan="3"><strong>TOTAL</strong></td>
                        <td><strong>${totalTime}</strong></td>
                        <td><strong>${totalTonnage}</strong></td>
                        <td><strong>${lateCount} Late</strong></td>
                    `;
                    tableBody.appendChild(totalRow);
                }
            }
        });
    </script>
</body>
</html>
